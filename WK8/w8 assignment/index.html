<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 8 | JavaScript w/Arrays & Objects</title>
</head>
<body>

    <h1>List Of People</h1>
	<p>
		Please fill in the form and click the submit button.
	</p>
	<div>
		<table>
			<tr>
				<td><label for="first">First Name</label></td>
				<td><input id="first" type="text" name="first" placeholder="Ivan"></td>
			</tr>
			<tr>
				<td><label for="last">Last Name</label></td>
				<td><input id="last" type="text" name="last" placeholder="Drago"></td>
			</tr>
			<tr>
				<td></td>
				<td><input id="button" type="button" value="submit"></td>
			</tr>
		</table>
	<div>
	<div id="output">
	
	</div>

    <script>
        // Store elements in variables
        var firstInput = document.getElementById('first');
        var lastInput = document.getElementById('last');
        var button = document.getElementById('button');
        var outputDiv = document.getElementById('output');

        // array to store the people list
        var people = [];

        // Make the button clickable. When clicked it calls the calcAndDisplay function.
        button.addEventListener('click', calcAndDisplay);

        function calcAndDisplay(e) {
            // Create an object called person
            var person = {
                first: firstInput.value, // uses the first Input's value
                last: lastInput.value // uses the last Input's value
            }; // end of person object

            // Add the person object into the people array
            people.push(person);

            // Bubble sort people on the last name
            for(let i=0; i < people.length-1; i++) {
                for(let j=0; j < people.length-1; j++) {
                    if(people[j].last > people[j+1].last) {
                        let temp = people[j];
                        people[j] = people[j+1];
                        people[j+1] = temp;
                    }
                }
            } // end of bubble sort algorithm!

            // Create a variable called 'output' with an empty string value
            var output = '';

            // Loop through the objects in the people array
            for(let i = 0; i < people.length; i++) {
                // Loop through each property in the object
                for(let key in people[i]) {
                    output += `${key.toUpperCase()}: ${people[i][key]}<br>`;
                }
                output += '<hr>'; // adds a horizontal line
            } // end of loop through people array

            // Log the output string and update the outputDiv's inner HTML
            console.log(output);
            outputDiv.innerHTML = output;
        }
    </script>
    
</body>
</html>
